---
import FormattedDate from '../components/FormattedDate.astro';
import Base from '../layouts/Base.astro';

const { title, description, pubDate } = Astro.props;
let canonicalURL = new URL(Astro.url.pathname, Astro.site).href;
---

<Base title={title} description={description}>
  <article class="prose prose-invert mx-auto my-20">
    <div>
      <h1 class="text-3xl" transition:name={`title-${title}`}>{title}</h1>
      <div class="text-sm text-gray-400 flex-shrink-0">
        <FormattedDate date={pubDate} name={`date-${title}`} />
      </div>
      <hr />
      <slot />
      <hr />
      <div>
        If you like this kind of content you can help me
        <a
          target="_blank"
          href={`https://x.com/intent/tweet?text=${title + '%0Aby @m4xshen'}&url=${canonicalURL}`}
        >
          sharing this post on X</a
        >. Thank you!
      </div>
    </div>
  </article>
  <script
    src="https://giscus.app/client.js"
    data-repo="m4xshen/m4xshen.dev"
    data-repo-id="R_kgDOIwxuSw"
    data-category="Announcements"
    data-category-id="DIC_kwDOIwxuS84CcRI1"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="dark_tritanopia"
    data-lang="en"
    crossorigin="anonymous"
    async></script>
</Base>
